import{c as v,g as A}from"./Cpj98o6Y.js";import{k as q,c as _,e as N,f as r,D as m,E as k,t as H,I as E,h as K}from"./DvdhT6td.js";function X(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var G=X,z=typeof v=="object"&&v&&v.Object===Object&&v,J=z,Y=J,Z=typeof self=="object"&&self&&self.Object===Object&&self,ee=Y||Z||Function("return this")(),M=ee,te=M,re=function(){return te.Date.now()},ne=re,oe=/\s/;function ie(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var se=ie,le=se,ae=/^\s+/;function ue(e){return e&&e.slice(0,le(e)+1).replace(ae,"")}var de=ue,ce=M,be=ce.Symbol,Q=be,R=Q,U=Object.prototype,fe=U.hasOwnProperty,pe=U.toString,g=R?R.toStringTag:void 0;function me(e){var t=fe.call(e,g),s=e[g];try{e[g]=void 0;var u=!0}catch{}var o=pe.call(e);return u&&(t?e[g]=s:delete e[g]),o}var ge=me,he=Object.prototype,ve=he.toString;function ye(e){return ve.call(e)}var Te=ye,$=Q,Se=ge,ke=Te,xe="[object Null]",je="[object Undefined]",B=$?$.toStringTag:void 0;function Oe(e){return e==null?e===void 0?je:xe:B&&B in Object(e)?Se(e):ke(e)}var we=Oe;function Ie(e){return e!=null&&typeof e=="object"}var _e=Ie,Ne=we,Ee=_e,Re="[object Symbol]";function $e(e){return typeof e=="symbol"||Ee(e)&&Ne(e)==Re}var Be=$e,Fe=de,F=G,Ce=Be,C=NaN,Le=/^[-+]0x[0-9a-f]+$/i,Ge=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,Qe=parseInt;function Ue(e){if(typeof e=="number")return e;if(Ce(e))return C;if(F(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=F(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fe(e);var s=Ge.test(e);return s||Me.test(e)?Qe(e.slice(2),s?2:8):Le.test(e)?C:+e}var Ve=Ue,Pe=G,x=ne,L=Ve,We="Expected a function",De=Math.max,Ae=Math.min;function qe(e,t,s){var u,o,l,n,a,c,b=0,j=!1,f=!1,y=!0;if(typeof e!="function")throw new TypeError(We);t=L(t)||0,Pe(s)&&(j=!!s.leading,f="maxWait"in s,l=f?De(L(s.maxWait)||0,t):l,y="trailing"in s?!!s.trailing:y);function T(i){var d=u,p=o;return u=o=void 0,b=i,n=e.apply(p,d),n}function V(i){return b=i,a=setTimeout(h,t),j?T(i):n}function P(i){var d=i-c,p=i-b,I=t-d;return f?Ae(I,l-p):I}function O(i){var d=i-c,p=i-b;return c===void 0||d>=t||d<0||f&&p>=l}function h(){var i=x();if(O(i))return w(i);a=setTimeout(h,P(i))}function w(i){return a=void 0,y&&u?T(i):(u=o=void 0,n)}function W(){a!==void 0&&clearTimeout(a),b=0,u=c=o=a=void 0}function D(){return a===void 0?n:w(x())}function S(){var i=x(),d=O(i);if(u=arguments,o=this,c=i,d){if(a===void 0)return V(c);if(f)return clearTimeout(a),a=setTimeout(h,t),T(c)}return a===void 0&&(a=setTimeout(h,t)),n}return S.cancel=W,S.flush=D,S}var He=qe;const Ke=A(He),Xe={data(){return{searchQuery:"",filterOpen:!1,sortRule:"relevance",bookType:"type1",edition:"",publisher:""}},methods:{toggleFilter(){this.filterOpen=!this.filterOpen},searchBooks(){console.log("Searching for books with query:",this.searchQuery),console.log("Sort rule:",this.sortRule),console.log("Book type:",this.bookType),console.log("Edition:",this.edition),console.log("Publisher:",this.publisher)},emitFilter(){this.$emit("filter",{searchQuery:this.searchQuery,sortRule:this.sortRule,bookType:this.bookType,edition:this.edition,publisher:this.publisher})},debouncedSearch:Ke(function(){this.emitFilter()},3e3)},watch:{searchQuery:"debouncedSearch",sortRule:"debouncedSearch",bookType:"debouncedSearch",edition:"debouncedSearch",publisher:"debouncedSearch"}},ze={class:"container p-4 mx-auto bg-white rounded shadow-sm shadow-neutral-600 search-bar"},Je={class:"flex items-center space-x-4"},Ye={key:0,class:"p-4 mt-4 bg-gray-100 rounded"},Ze={class:"mb-4"},et={class:"mb-4"},tt={class:"mb-4"},rt={class:"mb-4"};function nt(e,t,s,u,o,l){return _(),N("div",ze,[r("div",Je,[m(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>o.searchQuery=n),onInput:t[1]||(t[1]=(...n)=>l.debouncedSearch&&l.debouncedSearch(...n)),placeholder:"Nhập thông tin sách...",class:"flex-grow p-2 border rounded"},null,544),[[k,o.searchQuery]]),r("button",{onClick:t[2]||(t[2]=(...n)=>l.toggleFilter&&l.toggleFilter(...n)),class:"p-2 text-white bg-blue-500 rounded"},H(o.filterOpen?"Đóng bộ lọc":"Mở bộ lọc"),1),r("button",{onClick:t[3]||(t[3]=(...n)=>l.searchBooks&&l.searchBooks(...n)),class:"p-2 text-white bg-green-500 rounded"}," Tìm kiếm ")]),o.filterOpen?(_(),N("div",Ye,[r("div",Ze,[t[9]||(t[9]=r("label",{class:"block mb-2 font-bold"},"Sắp xếp",-1)),m(r("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>o.sortRule=n),class:"w-full p-2 border rounded"},t[8]||(t[8]=[r("option",{value:"date"},"Ngày phát hành",-1),r("option",{value:"relevance"},"Sự liên quan",-1),r("option",{value:"popularity"},"Số lượt mượn",-1)]),512),[[E,o.sortRule]])]),r("div",et,[t[11]||(t[11]=r("label",{class:"block mb-2 font-bold"},"Thể loại sách",-1)),m(r("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>o.bookType=n),class:"w-full p-2 border rounded"},t[10]||(t[10]=[r("option",{value:""},"Không chọn",-1),r("option",{value:"type1"},"Thể loại 1",-1),r("option",{value:"type2"},"Thể loại 2",-1),r("option",{value:"type3"},"Thể loại 3",-1)]),512),[[E,o.bookType]])]),r("div",tt,[t[12]||(t[12]=r("label",{class:"block mb-2 font-bold"},"Lần tái bản",-1)),m(r("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=n=>o.edition=n),placeholder:"Nhập lần tái bản",class:"w-full p-2 border rounded"},null,512),[[k,o.edition]])]),r("div",rt,[t[13]||(t[13]=r("label",{class:"block mb-2 font-bold"},"Nhà xuất bản",-1)),m(r("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=n=>o.publisher=n),placeholder:"Nhập Nhà xuất bản",class:"w-full p-2 border rounded"},null,512),[[k,o.publisher]])])])):K("",!0)])}const st=q(Xe,[["render",nt],["__scopeId","data-v-4775aa14"]]);export{st as _};
