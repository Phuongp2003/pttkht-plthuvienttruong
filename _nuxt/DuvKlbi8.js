import{k as b,c as o,e as c,f as s,A as B,i as d,w as r,g as a,G as u,h as x,af as I}from"./BO993vlI.js";import{_ as L}from"./BTnMrgeF.js";import{u as T}from"./D3F7DgIH.js";import{u as E}from"./DfElSsvV.js";const Q={name:"Logo"},S={class:"flex items-center justify-center select-none"};function P(n,e,f,t,g,m){return o(),c("div",S,e[0]||(e[0]=[s("span",{class:"text-blue-500 font-bold text-4xl"},"P",-1),s("span",{class:"text-red-500 font-bold text-4xl"},"D",-1),s("span",{class:"text-pink-500 font-bold text-4xl"},"T",-1),s("span",{class:"text-green-500 font-bold text-4xl"},"lib",-1)]))}const w=b(Q,[["render",P]]),V={components:{Logo:w},setup(){const n=T();return{user:JSON.parse(E("user",null).value),logout:()=>{n.remove("accessToken"),n.remove("refreshToken"),localStorage.removeItem("user"),window.location.reload()}}}},j={class:"sticky top-0 z-50 bg-white shadow-md navbar"},A={class:"container flex items-center justify-between p-4 mx-auto"},D={class:"flex space-x-4"},F={class:"relative"},H={for:"avatar-checkbox",class:"cursor-pointer"},M=["src"],R={key:1,class:"flex items-center justify-center w-10 h-10 bg-gray-300 rounded-full"},z={class:"absolute right-0 hidden w-48 mt-2 bg-white border rounded shadow-lg peer-checked:block"},G={key:0},J={key:1};function O(n,e,f,t,g,m){var v,y,_,h,$;const p=w,k=L,l=B("RouterLink");return o(),c("div",j,[s("div",A,[d(k,{to:"/",class:"flex items-center"},{default:r(()=>[d(p)]),_:1}),s("div",D,[d(l,{to:"/books",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[6]||(e[6]=[a(" Sách ")])),_:1}),((v=t.user)==null?void 0:v.role)==="usr"?(o(),u(l,{key:0,to:"/borrow",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[7]||(e[7]=[a(" Quán lý sách mượn ")])),_:1})):x("",!0),((y=t.user)==null?void 0:y.role)==="usr"?(o(),u(l,{key:1,to:"/books",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[8]||(e[8]=[a(" Quán lý thẻ sinh viên ")])),_:1})):x("",!0),((_=t.user)==null?void 0:_.role)==="lib"?(o(),u(l,{key:2,to:"/borrow-manage",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[9]||(e[9]=[a(" Quán lý mượn sách ")])),_:1})):x("",!0),((h=t.user)==null?void 0:h.role)==="lib"?(o(),u(l,{key:3,to:"/books-import",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[10]||(e[10]=[a(" Quán lý nhập sách ")])),_:1})):x("",!0),(($=t.user)==null?void 0:$.role)==="lib"?(o(),u(l,{key:4,to:"/books-manage",class:"text-gray-700 hover:text-blue-500"},{default:r(()=>e[11]||(e[11]=[a(" Quản lý sách trong kho ")])),_:1})):x("",!0)]),s("div",F,[e[18]||(e[18]=s("input",{type:"checkbox",id:"avatar-checkbox",class:"hidden peer"},null,-1)),s("label",H,[t.user&&t.user.avatar?(o(),c("img",{key:0,src:t.user.avatar,alt:"Avatar",class:"w-10 h-10 rounded-full"},null,8,M)):(o(),c("div",R,e[12]||(e[12]=[s("span",{class:"text-gray-700"},"A",-1)])))]),s("div",z,[t.user?(o(),c("div",G,[d(l,{to:"/borrow-history",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:e[0]||(e[0]=i=>n.document.getElementById("avatar-checkbox").checked=!1)},{default:r(()=>e[13]||(e[13]=[a("Hồ sơ")])),_:1}),d(l,{to:"/borrow-history",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:e[1]||(e[1]=i=>n.document.getElementById("avatar-checkbox").checked=!1)},{default:r(()=>e[14]||(e[14]=[a("Lịch sử mượn")])),_:1}),d(l,{to:"/borrow-history",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:e[2]||(e[2]=i=>n.document.getElementById("avatar-checkbox").checked=!1)},{default:r(()=>e[15]||(e[15]=[a("Thông báo")])),_:1}),s("button",{onClick:e[3]||(e[3]=(...i)=>t.logout&&t.logout(...i)),class:"block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100"}," Đăng xuất ")])):(o(),c("div",J,[d(l,{to:"/login",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:e[4]||(e[4]=i=>n.document.getElementById("avatar-checkbox").checked=!1)},{default:r(()=>e[16]||(e[16]=[a("Login")])),_:1}),d(l,{to:"/signup",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100",onClick:e[5]||(e[5]=i=>n.document.getElementById("avatar-checkbox").checked=!1)},{default:r(()=>e[17]||(e[17]=[a("Sign Up")])),_:1})]))])])])])}const C=b(V,[["render",O],["__scopeId","data-v-e9b1c066"]]),U={},q={class:"py-4 mt-10 text-center text-white bg-gray-800 footer"};function K(n,e,f,t,g,m){return o(),c("div",q," © PDTlib devs team - PTITHCM D21CQCNPM02-N ")}const N=b(U,[["render",K]]),W={components:{Navbar:C,Footer:N}},X={class:"flex flex-col min-h-screen"},Y={class:"flex-grow"};function Z(n,e,f,t,g,m){const p=C,k=N;return o(),c("div",X,[d(p),s("div",Y,[I(n.$slots,"default")]),d(k)])}const ne=b(W,[["render",Z]]);export{ne as default};
