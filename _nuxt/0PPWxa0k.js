import{k as g,c as l,e as n,f as e,F as _,C as b,t as d,G as p,w as x,i as m,H as f}from"./BuZElBS0.js";import{_ as k}from"./BLVSlS1v.js";import{_ as v}from"./DUiwNh__.js";import{u as B}from"./Df4KPYzQ.js";import"./Cpj98o6Y.js";const P={props:{books:{type:Array,required:!0}},data(){return{selectedPublisher:null,loading:!1}},async created(){},methods:{selectPublisher(s){this.selectedPublisher=s},deselectPublisher(){this.selectedPublisher=null},addAllBooksToWarehouse(){this.$emit("add-all-books",this.books[this.selectedPublisher]),this.$delete(this.books,this.selectedPublisher),this.selectedPublisher=null}}},w={class:"container mx-auto book-list-container",id:"booklist"},T={key:0},C={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2 lg:grid-cols-3"},S=["onClick"],F={class:"text-lg font-semibold"},A={class:"text-gray-700"},I={key:1},L={class:"my-6 text-2xl font-bold text-center"},N={class:"p-4 mb-4 bg-gray-100 rounded shadow"},j={class:"text-gray-700"},D={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2 lg:grid-cols-5"},W=["src","alt"],E={class:"mb-2 text-lg font-semibold"},Q={class:"text-gray-700"};function V(s,t,c,h,i,r){const u=v;return l(),n("div",w,[i.selectedPublisher?(l(),n("div",I,[e("button",{onClick:t[0]||(t[0]=(...o)=>r.deselectPublisher&&r.deselectPublisher(...o)),class:"p-2 mb-4 text-white bg-blue-500 rounded"}," Quay lại "),e("h2",L,d(i.selectedPublisher),1),e("div",N,[t[3]||(t[3]=e("h3",{class:"text-lg font-semibold"},"Thông tin Nhà Xuất Bản",-1)),e("p",j," Số sách: "+d(c.books[i.selectedPublisher].length),1),e("button",{onClick:t[1]||(t[1]=(...o)=>r.addAllBooksToWarehouse&&r.addAllBooksToWarehouse(...o)),class:"p-2 mt-2 text-white bg-green-500 rounded"}," Thêm tất cả sách vào kho ")]),e("div",D,[(l(!0),n(_,null,b(c.books[i.selectedPublisher],o=>(l(),p(u,{key:o.id,to:`${o.link}/edit`,class:"relative p-4 bg-white rounded shadow book-card"},{default:x(()=>[e("img",{src:o.cover,alt:o.title,class:"object-cover w-full h-48 mb-4 rounded"},null,8,W),e("h3",E,d(o.title),1),e("p",Q,d(o.author),1),t[4]||(t[4]=e("div",{class:"absolute inset-0 flex items-center justify-center text-lg font-semibold text-white transition-opacity duration-300 bg-blue-500 bg-opacity-75 rounded opacity-0 hover:opacity-100"}," Sửa thông tin sách ",-1))]),_:2},1032,["to"]))),128))])])):(l(),n("div",T,[t[2]||(t[2]=e("h2",{class:"my-6 text-2xl font-bold text-center"}," Chọn Nhà Xuất Bản ",-1)),e("div",C,[(l(!0),n(_,null,b(c.books,(o,a)=>(l(),n("div",{key:a,class:"p-4 bg-white rounded shadow cursor-pointer hover:bg-gray-100",onClick:H=>r.selectPublisher(a)},[e("h3",F,d(a),1),e("p",A,"Số sách: "+d(o.length),1)],8,S))),128))])]))])}const y=g(P,[["render",V],["__scopeId","data-v-5fe141aa"]]),X={components:{BookSearch:k,ImportBookList:y},data(){return{books:null,filteredBooks:[],loading:!1}},async created(){try{const{data:s,pending:t,error:c}=await B("books",()=>fetch("/data/bookS.json").then(h=>h.json()));this.loading=t,this.books=s,this.filteredBooks=this.books}catch(s){console.error("Error fetching top books:",s)}},methods:{applyFilter(s){this.filteredBooks=this.books.filter(t=>t.title.includes(s.searchQuery)&&t.author.includes(s.publisher)&&(s.bookType==="all"||t.type===s.bookType)&&(s.edition===""||t.edition===s.edition))}}},q={key:1};function G(s,t,c,h,i,r){const u=f,o=k,a=y;return l(),n("div",null,[t[0]||(t[0]=e("h2",{class:"my-6 text-2xl font-bold text-center"},"Tìm sách",-1)),i.loading?(l(),p(u,{key:0})):(l(),n("div",q,[m(o,{onFilter:r.applyFilter},null,8,["onFilter"]),m(a,{books:i.filteredBooks},null,8,["books"])]))])}const O=g(X,[["render",G],["__scopeId","data-v-c40ee84f"]]);export{O as default};
